# mihomo é…ç½®
# æ—¥æœŸï¼š2025-09-11 16:09:49
# é…ç½®ä½œè€…ï¼šhttps://t.me/iKeLee
# é€‚ç”¨ç‰ˆæœ¬ï¼šæ‰€æœ‰ä½¿ç”¨ mihomo æ ¸å¿ƒçš„ç¨‹åº

#bind-address: "*" # ç»‘å®šåœ°å€ï¼Œé»˜è®¤ä¸ºæ‰€æœ‰ IP åœ°å€

port: 7890 # HTTP ä»£ç†ç«¯å£
socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£
mixed-port: 7892 # http(s) socks ä»£ç†æ··åˆç«¯å£
redir-port: 7893 # é‡å®šå‘ç«¯å£ï¼Œç”¨äºé€æ˜ä»£ç†
tproxy-port: 7894 # TProxy ç«¯å£ï¼Œæ”¯æŒ TUN æ¨¡å¼

tcp-concurrent: true # å¯ç”¨ TCP å¹¶å‘è¿æ¥
unified-delay: true # å¼€å¯ç»Ÿä¸€å»¶è¿Ÿæ—¶

#skip-auth-prefixes:
#  - 127.0.0.1/8 # è·³è¿‡æœ¬åœ°åœ°å€çš„è®¤è¯
#  - ::1/128 # è·³è¿‡ IPv6 æœ¬åœ°åœ°å€çš„è®¤è¯
#lan-allowed-ips:
#  - 0.0.0.0/0 # å…è®¸å±€åŸŸç½‘è®¿é—®çš„ IP åœ°å€èŒƒå›´ (IPv4)
#  - ::/0 # å…è®¸å±€åŸŸç½‘è®¿é—®çš„ IP åœ°å€èŒƒå›´ (IPv6)
#lan-disallowed-ips:
#  - 192.168.0.3/32 # å±€åŸŸç½‘ç¦æ­¢è®¿é—®çš„ç‰¹å®š IP åœ°å€

geodata-mode: false # æ›´æ”¹geoipä½¿ç”¨æ–‡ä»¶ï¼Œmmdb / dat å¯é€‰true=dat false é»˜è®¤å€¼false

# standardï¼šæ ‡å‡†åŠ è½½å™¨
# memconservativeï¼šä¸“ä¸ºå†…å­˜å—é™ (å°å†…å­˜) è®¾å¤‡ä¼˜åŒ–çš„åŠ è½½å™¨ (é»˜è®¤å€¼)
geodata-loader: standard
# GeoSite ä½¿ç”¨çš„åŒ¹é…å™¨å®ç°ï¼Œå¯ç”¨çš„å®ç°ï¼š
# - succinctï¼ˆé»˜è®¤ï¼Œä¸è§„åˆ™é›†ç›¸åŒï¼‰
# - mphï¼ˆæ¥è‡ª V2Rayï¼Œåœ¨ Xray ä¸­ä¹Ÿæ˜¯ `hybrid`ï¼‰
#geosite-matcher: succinct
geo-auto-update: true # å¼€å¯è‡ªåŠ¨æ›´æ–° Geo æ•°æ®åº“
geo-update-interval: 24 # Geo æ•°æ®åº“æ›´æ–°é—´éš” (å•ä½: å°æ—¶)
geox-url:
  geoip: 'https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/geoip.dat'
  geosite: 'https://raw.githubusercontent.com/Loyalsoldier/v2ray-rules-dat/release/geosite.dat'
  mmdb: 'https://geodata.kelee.one/Country-Masaiki.mmdb'
  asn: 'https://geodata.kelee.one/GeoLite2-ASN-P3TERX.mmdb'

# always å¼€å¯ï¼Œå¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹
# strict é»˜è®¤ï¼Œç”± Clash åˆ¤æ–­æ˜¯å¦å¼€å¯
# off ä¸åŒ¹é…è¿›ç¨‹ï¼Œæ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼
find-process-mode: strict


#global-ua: clash.meta # è‡ªå®šå…¨å±€ UA
allow-lan: true # å…è®¸å±€åŸŸç½‘è®¾å¤‡è¿æ¥ä»£ç†

#etag-support: true # å¤–éƒ¨èµ„æºä¸‹è½½çš„ ETag æ”¯æŒ



mode: rule # å·¥ä½œæ¨¡å¼ä¸ºè§„åˆ™æ¨¡å¼

# silent é™é»˜ï¼Œä¸è¾“å‡º
# error ä»…è¾“å‡ºå‘ç”Ÿé”™è¯¯è‡³æ— æ³•ä½¿ç”¨çš„æ—¥å¿—
# warning è¾“å‡ºå‘ç”Ÿé”™è¯¯ä½†ä¸å½±å“è¿è¡Œçš„æ—¥å¿—ï¼Œä»¥åŠ error çº§åˆ«å†…å®¹
# info è¾“å‡ºä¸€èˆ¬è¿è¡Œçš„å†…å®¹ï¼Œä»¥åŠ error å’Œ warning çº§åˆ«çš„æ—¥å¿—
# debug å°½å¯èƒ½çš„è¾“å‡ºè¿è¡Œä¸­æ‰€æœ‰çš„ä¿¡æ¯
log-level: info


ipv6: true # å¯ç”¨ IPv6

#tls: # TLS ç›¸å…³é…ç½®
#  certificate: string # TLS è¯ä¹¦
#  private-key: string # TLS ç§é’¥
#  custom-certifactes: # è‡ªå®šä¹‰è¯ä¹¦
#    - |
#      -----BEGIN CERTIFICATE-----
#      format/pem...
#      -----END CERTIFICATE-----

udp: true


external-controller: '0.0.0.0:9090' # å¤–éƒ¨æ§åˆ¶ç«¯å£
external-ui: public # å¤–éƒ¨ UI ç›®å½•
#external-ui-name: yd # å¤–éƒ¨ UI åç§°
external-doh-server: /dns-query  # å¤–éƒ¨ DoH æœåŠ¡å™¨
secret: "nihaomihomo" # æ§åˆ¶æ¥å£å¯†é’¥
# external-ui-url: 'https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip'
# external-ui-url: 'https://github.com/haishanh/yacd/archive/gh-pages.zip'
# RESTful API CORSæ ‡å¤´é…ç½®
external-controller-cors: # CORS é…ç½®
  allow-origins: #å…è®¸æ¥æº
    - '*'
  allow-private-network: true # å…è®¸ç§æœ‰ç½‘ç»œè®¿é—®
#external-controller-unix: mihomo.sock  # Unix Socket æ§åˆ¶æ¥å£
global-client-fingerprint: chrome # å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹ä¸º Chrome
#interface-name:  # ä½¿ç”¨çš„ç½‘ç»œæ¥å£åç§°
#routing-mark:  # è·¯ç”±æ ‡è®°

authentication:
#- "mihomo:mihomopw" # HTTP/SOCKS ä»£ç†è®¤è¯ï¼Œæ ¼å¼ä¸º ç”¨æˆ·å:å¯†ç 

# ç¼“è§£ç§»åŠ¨è®¾å¤‡è€—ç”µé—®é¢˜
# https://github.com/vernesong/OpenClash/issues/2614
#disable-keep-alive: true # ç¦ç”¨ TCP Keep Aliveï¼Œåœ¨ Android é»˜è®¤ä¸º true
#keep-alive-idle: 15 # Keep-Alive ç©ºé—²æ—¶é—´ (å•ä½: ç§’)
#keep-alive-interval: 15 # Keep-Alive é—´éš”æ—¶é—´ (å•ä½: ç§’)

# å®éªŒæ€§åŠŸèƒ½é…ç½®
experimental:
  quic-go-disable-gso: true # ç¦ç”¨ QUIC åè®®ä¸­çš„ GSO (Generic Segmentation Offload) åŠŸèƒ½
  quic-go-disable-ecn: true #ç¦ç”¨ECN
  dialer-ip4p-convert: false # å¯ç”¨IP4Påœ°å€è½¬æ¢

# æœ¬åœ° DNS è§£æé…ç½®
hosts:
  ntp.ntsc.ac.cn:
    - 114.118.7.161
    - 114.118.7.163


# ç¼“å­˜
profile:
  store-selected: true # å­˜å‚¨å·²é€‰æ‹©çš„ä»£ç†ç»„
  store-fake-ip: true # å­˜å‚¨ Fake IP åœ°å€



# ç½‘ç»œæ—¶é—´åè®® (NTP) è®¾ç½®
ntp:
  enable: false # å¯ç”¨ NTP åŠŸèƒ½
  write-to-system: false # å°†åŒæ­¥çš„æ—¶é—´å†™å…¥ç³»ç»Ÿæ—¶é’Ÿï¼Œéœ€rootæƒé™
  server: ntp.ntsc.ac.cn # NTP æœåŠ¡å™¨åœ°å€
  port: 123 # NTP æœåŠ¡å™¨ç«¯å£ï¼Œé»˜è®¤ä½¿ç”¨ 123 ç«¯å£
  interval: 30 # åŒæ­¥æ—¶é—´çš„é—´éš” (å•ä½: åˆ†é’Ÿ)


# sniffer é…ç½®ï¼šç”¨äºæ£€æµ‹å’Œå¤„ç†ä¸åŒåè®®çš„æµé‡
sniffer:
  enable: true # æ˜¯å¦å¯ç”¨ sniffer ä¾¦æµ‹åŠŸèƒ½ï¼Œé»˜è®¤å…³é—­
  force-dns-mapping: true # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  override-destination: true # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®ï¼Œé»˜è®¤ä¸º true
  sniff:
    HTTP:
      ports: [ 80, 8080-8880 ] # å¯¹ HTTP æµé‡è¿›è¡Œå—…æ¢çš„ç«¯å£èŒƒå›´ï¼Œå¸¸ç”¨äºç½‘ç«™å’Œåº”ç”¨
      override-destination: true # è¦†ç›–ç›®æ ‡åœ°å€ä»¥å¼ºåˆ¶æµé‡èµ°ä»£ç†æˆ–è§„åˆ™åŒ¹é…
    TLS:
      ports: [ 443, 8443 ] # å¯¹ HTTPS æµé‡çš„ç«¯å£è¿›è¡Œå—…æ¢ï¼Œé€šå¸¸ç”¨äºåŠ å¯†è¿æ¥
    QUIC:
      ports: [ 443, 8443 ] # å¯¹ QUIC åè®®çš„æµé‡è¿›è¡Œå—…æ¢ï¼ŒQUI C å¸¸ç”¨äºæ”¹è¿› HTTPS è¿æ¥çš„é€Ÿåº¦
  force-domain:
    - +.v2ex.com # å¯¹æŒ‡å®šåŸŸåå¼ºåˆ¶è§£æï¼Œå³ä½¿ IP åœ°å€å·²ç¼“å­˜æˆ–å·²çŸ¥

  skip-domain:
    - Mijia Cloud # è·³è¿‡æŒ‡å®šåŸŸåï¼Œä¸å¯¹å…¶è¿›è¡Œå—…æ¢å¤„ç†ï¼ˆå¦‚æ™ºèƒ½å®¶å±…æµé‡ï¼‰
  skip-src-address:
    - 192.168.0.3/32 # è·³è¿‡æ¥æº IP åœ°å€ï¼Œä¸å¯¹å…¶è¿›è¡Œå—…æ¢
  skip-dst-address:
    - 192.168.0.3/32 # è·³è¿‡ç›®æ ‡ IP åœ°å€ï¼Œä¸å¯¹å…¶è¿›è¡Œå—…æ¢

# tun é…ç½®ï¼šç”¨äºå¯ç”¨ TUN æ¨¡å¼ï¼Œä¼˜åŒ–æµé‡è·¯ç”±å’Œ IP è®¾ç½®
tun:
  enable: true # å¯ç”¨ TUN æ¨¡å¼ï¼Œç”¨äºé€æ˜ä»£ç†
  stack: system # ä½¿ç”¨ç©ºé—´ç½‘ç»œæ ˆå¤„ç†æµé‡ï¼Œå¯ç”¨å€¼ï¼š system/gvisor/mixed
  dns-hijack:
    - any:53 # åŠ«æŒæ‰€æœ‰ 53 ç«¯å£çš„ DNS è¯·æ±‚
  auto-route: true # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±ï¼Œå¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡ã€‚
  #auto-redirect: true # è‡ªåŠ¨é…ç½® iptables/nftables ä»¥é‡å®šå‘ TCP è¿æ¥, éœ€è¦auto-routeå·²å¯ç”¨, éœ€è¦rootæƒé™
  auto-detect-interface: true # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£ï¼Œå¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡
  #device: utun0 # æŒ‡å®š TUN è®¾å¤‡åç§°ï¼Œé»˜è®¤ä¸º utun
  mtu: 1500 # è®¾ç½®æœ€å¤§ä¼ è¾“å•å…ƒ (MTU)ï¼Œæé«˜ç½‘ç»œååé‡
  #strict-route: true # å¯ç”¨ auto-route æ—¶æ‰§è¡Œä¸¥æ ¼çš„è·¯ç”±è§„åˆ™
  #gso: true # é€šç”¨åˆ†æ®µå¸è½½ (GSO)ï¼Œæé«˜ç½‘ç»œæ€§èƒ½
  #gso-max-size: 65536 # è®¾ç½® GSO æœ€å¤§åˆ†æ®µå¤§å°ä¸º 65536 å­—èŠ‚
  #udp-timeout: 300 # è®¾ç½® UDP è¶…æ—¶æ—¶é—´ä¸º 300 ç§’ï¼Œä¼˜åŒ– NAT æ˜ å°„
  #iproute2-table-index: 2022 # ä½¿ç”¨æŒ‡å®šçš„è·¯ç”±è¡¨ç´¢å¼• (iproute2)
  #iproute2-rule-index: 9000 # è®¾ç½®è·¯ç”±è§„åˆ™çš„ç´¢å¼• (iproute2)
  #endpoint-independent-nat: false # å¯ç”¨ç‹¬ç«‹äºç«¯ç‚¹çš„ NATï¼Œæ€§èƒ½å¯èƒ½ä¼šç•¥æœ‰ä¸‹é™ï¼Œæ‰€ä»¥ä¸å»ºè®®åœ¨ä¸éœ€è¦çš„æ—¶å€™å¼€å¯

# P2Pä¸‹è½½ç«¯å£
listeners:
  - name: socks5-in-1
    type: socks
    port: 10808
    listen: 0.0.0.0
    udp: true
    users: [ ]
    proxy: DIRECT



# DNS é…ç½®ï¼šæ§åˆ¶ DNS æŸ¥è¯¢è¡Œä¸ºï¼Œæ”¯æŒå¢å¼ºæ¨¡å¼å’Œå‡ IP åŠŸèƒ½
# æŸ¥è¯¢ DNS æ˜¯å¦æ”¯æŒ H3 æŒ‡ä»¤:
#  curl https://1.1.1.1/dns-query --http3-only -vI
#  q www.baidu.com @https://1.1.1.1/dns-query --http3
dns:
  enable: true # å¯ç”¨ DNS æ¨¡å—
  cache-algorithm: arc # ç¼“å­˜ç®—æ³•ï¼Œå‚æ•°:lru æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼Œarc è‡ªé€‚åº”æ›¿æ¢ç¼“å­˜
  prefer-h3: true # DOH ä¼˜å…ˆä½¿ç”¨ http/3
  use-hosts: true # ä½¿ç”¨é…ç½®ä¸­çš„ hosts æ–‡ä»¶æ¡ç›®
  use-system-hosts: true # ä½¿ç”¨ç³»ç»Ÿçš„ hosts æ–‡ä»¶æ¡ç›®
  respect-rules: true # dns è¿æ¥éµå®ˆè·¯ç”±è§„åˆ™ï¼Œéœ€é…ç½® proxy-server-nameserver, å¼ºçƒˆä¸å»ºè®®å’Œ prefer-h3 ä¸€èµ·ä½¿ç”¨
  listen: 0.0.0.0:1053 # æœ¬åœ° DNS ç›‘å¬ç«¯å£ï¼Œé»˜è®¤æ˜¯ 1053 ç«¯å£
  ipv6: true # å¯ç”¨ IPv6 DNS è§£æï¼Œé¿å… IPv6 åœ°å€çš„è§£æè¯·æ±‚
  enhanced-mode: fake-ip # å¯ç”¨å¢å¼ºæ¨¡å¼ redir-host or fake-ip
  fake-ip-range: 28.0.0.1/8 # fake-ip æ± è®¾ç½®
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - "*"
    - +.lan
    - dns.alidns.com
    - cloudflare-dns.com
    - dns.google
    - dns.adguard-dns.com
    - dns.nextdns.io
    - public.dns.iij.jp
    - dns0.eu
    - dns.18bit.cn
    - 2025.dns1.top
    - dns.ipv4dns.com
  default-nameserver:
    - 223.5.5.5
    - 223.6.6.6
  nameserver-policy:
    "+.jp":
      - "https://public.dns.iij.jp/dns-query#h3=true" # IIJ ï¼ˆæ—¥æœ¬ï¼‰ DNS over H3
    "+.hk":
      - "quic://dns.nextdns.io" # NextDNSï¼ˆé¦™æ¸¯ï¼‰ DNS over DOQ
    "+.eu":
      - "quic://dns0.eu" # å…¬å…±ï¼ˆæ¬§æ´²ï¼‰ DNS over DOQ
  nameserver:
    - https://223.5.5.5/dns-query
    - https://223.6.6.6/dns-query
  proxy-server-nameserver: # ä»£ç†èŠ‚ç‚¹åŸŸåè§£ææœåŠ¡å™¨ï¼Œä»…ç”¨äºè§£æä»£ç†èŠ‚ç‚¹çš„åŸŸå
    - "quic://dns.alidns.com" # é˜¿é‡Œ DNS over DOQ
  direct-nameserver: #  ç”¨äºç›´è¿å‡ºå£åŸŸåè§£æçš„ DNS æœåŠ¡å™¨
    - "quic://dns.alidns.com" # é˜¿é‡Œ DNS over DOQ
  direct-nameserver-follow-policy: true # æ˜¯å¦éµå¾ª nameserver-policyï¼Œé»˜è®¤ä¸ºä¸éµå®ˆï¼Œä»…å½“ direct-nameserver ä¸ä¸ºç©ºæ—¶ç”Ÿæ•ˆ

# é”šç‚¹ - èŠ‚ç‚¹è®¢é˜…çš„å‚æ•° [æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡è®¢é˜…èŠ‚ç‚¹ï¼Œæ¯ 6 ç§’ä¸€æ¬¡å¥åº·æ£€æŸ¥]
NodeParam: &NodeParam {
  type: http,
  interval: 3600, # æ›´æ–°providerçš„æ—¶é—´
  size-limit: 0, # é™åˆ¶ä¸‹è½½æ–‡ä»¶çš„æœ€å¤§å¤§å°ï¼Œé»˜è®¤ä¸º 0 å³ä¸é™åˆ¶æ–‡ä»¶å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ (b)
  #header: # è‡ªå®šä¹‰ http è¯·æ±‚å¤´
  #User-Agent:
  #- meta;clash.meta;Clash/v1.18.0;clash,
  health-check: { # å¥åº·æ£€æŸ¥ (å»¶è¿Ÿæµ‹è¯•)
    enable: true,
    url: 'http://www.google.com/blank.html', # å¥åº·æ£€æŸ¥æµ‹è¯•åœ°å€
    interval: 6, # å¥åº·æ£€æŸ¥é—´éš”
    timeout: 5000, # å¥åº·æ£€æŸ¥è¶…æ—¶æ—¶é—´
    lazy: true # æ‡’æƒ°çŠ¶æ€
  }
}
Override: &Override {
  tfo: false, # å¯ç”¨ TCP Fast Open, ä»…ç”Ÿæ•ˆäº TCP åè®®
  mptcp: false, # å¯ç”¨ TCP Multi Path, ä»…ç”Ÿæ•ˆäº TCP åè®®
  udp: true, # æ˜¯å¦å…è®¸ UDP é€šè¿‡ä»£ç†ï¼Œé»˜è®¤ä¸º false
  udp-over-tcp: false, # å¯ç”¨ UDP over TCPï¼Œé»˜è®¤ false
  skip-cert-verify: true, # è·³è¿‡è¯ä¹¦éªŒè¯ï¼Œä»…é€‚ç”¨äºä½¿ç”¨ tls çš„åè®®
  ip-version: ipv4-prefer, # å¯é€‰ï¼šdual/ipv4/ipv6/ipv4-prefer/ipv6-prefer ,é»˜è®¤ä½¿ç”¨ dual, ipv4: ä»…ä½¿ç”¨ IPv4, ipv6: ä»…ä½¿ç”¨ IPv6, ipv4-prefer: ä¼˜å…ˆä½¿ç”¨ IPv4ï¼Œå¯¹äº TCP ä¼šè¿›è¡ŒåŒæ ˆè§£æï¼Œå¹¶å‘é“¾æ¥ä½†æ˜¯ä¼˜å…ˆä½¿ç”¨ IPv4 é“¾æ¥ï¼ŒUDP åˆ™ä¸ºåŒæ ˆè§£æï¼Œè·å–ç»“æœä¸­çš„ç¬¬ä¸€ä¸ª IPv4, ipv6-prefer:ä¼˜å…ˆä½¿ç”¨ IPv6ï¼Œå¯¹äº TCP ä¼šè¿›è¡ŒåŒæ ˆè§£æï¼Œå¹¶å‘é“¾æ¥ä½†æ˜¯ä¼˜å…ˆä½¿ç”¨ IPv6 é“¾æ¥ï¼ŒUDP åˆ™ä¸ºåŒæ ˆè§£æï¼Œè·å–ç»“æœä¸­çš„ç¬¬ä¸€ä¸ª IPv6
}

# é”šç‚¹ - èŠ‚ç‚¹è®¢é˜…
proxy-providers:
  sub1:
    url: 'sub1addr'
    <<: *NodeParam
    path: './proxy/sub1.yaml'
    override:
      <<: *Override
      additional-prefix: "[sub1] " # ä¸ºè®¢é˜…èŠ‚ç‚¹æ·»åŠ æœºåœºåç§°å‰ç¼€


# é”šç‚¹ - èŠ‚ç‚¹ç­›é€‰ç»„
FilterHK: &FilterHK '^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|HKG|Hong)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterTW: &FilterTW '^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|TWN|Tai|Taiwan)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterJP: &FilterJP '^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|JPN|Japan)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterKR: &FilterKR '^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©å›½|éŸ“|é¦–å°”|(\b(KR|KOR|Korea)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterSG: &FilterSG '^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|SGP|Singapore)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterUS: &FilterUS '^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|USA|United States)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterUK: &FilterUK '^(?=.*((?i)ğŸ‡¬ğŸ‡§|è‹±å›½|ä¼¦æ•¦|(\b(UK|GBR|United Kingdom)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterFR: &FilterFR '^(?=.*((?i)ğŸ‡«ğŸ‡·|æ³•å›½|(\b(FR|FRA|France)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterDE: &FilterDE '^(?=.*((?i)ğŸ‡©ğŸ‡ª|å¾·å›½|(\b(DE|DEU|Germany)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$'
FilterGame: &FilterGame '^(?=.*((?i)æ¸¸æˆ|ğŸ®|(\b(GAME)(\d+)?\b)))(?!.*((?i)å›å›½|æ ¡å›­)).*$'
FilterAll: &FilterAll '^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|è¶…æ—¶|æ”¶è—|ç¦åˆ©|é‚€è¯·|å¥½å‹|(\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author|Traffic)(\d+)?\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$'

# ç­–ç•¥ç»„å‚æ•°é”šç‚¹
# é”šç‚¹ - æ—¶å»¶ä¼˜é€‰å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œå®¹å·® 20msï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
UrlTest: &UrlTest {
  type: url-test,
  interval: 6,
  tolerance: 20,
  lazy: true,
  url: 'http://www.google.com/blank.html',
  disable-udp: false,
  timeout: 2000,
  max-failed-times: 3,
  hidden: true,
  include-all-providers: true
}
# é”šç‚¹ - æ•…éšœè½¬ç§»å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
FallBack: &FallBack {
  type: fallback,
  interval: 6,
  lazy: true,
  url: 'http://www.google.com/blank.html',
  disable-udp: false,
  timeout: 2000,
  max-failed-times: 3,
  hidden: true,
  include-all-providers: true
}
# é”šç‚¹ - è´Ÿè½½å‡è¡¡å‚æ•° [æ¯ 6 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œæ—¶å»¶è¶…è¿‡ 2 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
LoadBalance: &LoadBalance {
  type: load-balance,
  interval: 6,
  lazy: true,
  #url: 'http://www.google.com/blank.html',
  url: 'http://www.google.com/blank.html',
  disable-udp: false,
  strategy: consistent-hashing,
  timeout: 2000,
  max-failed-times: 3,
  hidden: true,
  include-all-providers: true
}
# é”šç‚¹ - è§„åˆ™å‚æ•° [æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡è®¢é˜…è§„åˆ™ï¼Œæ›´æ–°è§„åˆ™æ—¶ä½¿ç”¨ç›´è¿ç­–ç•¥]
RuleProvidersClassical: &RuleProvidersClassical {
  type: http,
  behavior: classical,
  interval: 3600,
  format: yaml,
  proxy: DIRECT
}

RuleProvidersDomain: &RuleProvidersDomain {
  type: http,
  interval: 86400,
  behavior: domain,
  format: mrs,
  proxy: DIRECT
}

RuleProviderIpcidr: &RuleProviderIpcidr {
  type: http,
  interval: 86400,
  behavior: ipcidr,
  format: mrs,
  proxy: DIRECT
}

RulProviderExample: &RulProviderExample {
  type: http,
  # ipcidr domain classical
  behavior: ipcidr,
  interval: 43200,
  # mrs yaml text
  format: text,
  proxy: DIRECT
}

# ç­–ç•¥ç»„
proxy-groups:
  - { name: æ¸¸æˆé€‰æ‹©, type: select, include-all-providers: true, filter: *FilterGame, proxies: [ DIRECT, å…¨çƒé€‰æ‹© ] }
  - { name: å…¨çƒé€‰æ‹©, type: select, include-all-providers: true, filter: *FilterAll }
  - { name: å¢ƒå¤–ä¸‹è½½, type: select, include-all-providers: true, filter: *FilterAll, proxies: [ DIRECT ] }
  - { name: AI, type: select, include-all-providers: true, filter: *FilterAll }
  - { name: TikTok, type: select, include-all-providers: true, filter: *FilterAll }
  - { name: SpeedtestIntl, type: select, include-all-providers: true, filter: *FilterAll, proxies: [ DIRECT ] }
  - { name: App Store, type: select, proxies: [ DIRECT, é¦™æ¸¯è‡ªåŠ¨ç­–ç•¥, å°æ¹¾è‡ªåŠ¨ç­–ç•¥, æ—¥æœ¬è‡ªåŠ¨ç­–ç•¥, éŸ©å›½è‡ªåŠ¨ç­–ç•¥, æ–°å›½è‡ªåŠ¨ç­–ç•¥, ç¾å›½è‡ªåŠ¨ç­–ç•¥, è‹±å›½è‡ªåŠ¨ç­–ç•¥, æ³•å›½è‡ªåŠ¨ç­–ç•¥, å¾·å›½è‡ªåŠ¨ç­–ç•¥ ] }
  - { name: Appleè´¦æˆ·, type: select, proxies: [ DIRECT, é¦™æ¸¯è‡ªåŠ¨ç­–ç•¥, å°æ¹¾è‡ªåŠ¨ç­–ç•¥, æ—¥æœ¬è‡ªåŠ¨ç­–ç•¥, éŸ©å›½è‡ªåŠ¨ç­–ç•¥, æ–°å›½è‡ªåŠ¨ç­–ç•¥, ç¾å›½è‡ªåŠ¨ç­–ç•¥, è‹±å›½è‡ªåŠ¨ç­–ç•¥, æ³•å›½è‡ªåŠ¨ç­–ç•¥, å¾·å›½è‡ªåŠ¨ç­–ç•¥ ] }
  - { name: TestFlight, type: select, proxies: [ DIRECT, é¦™æ¸¯è‡ªåŠ¨ç­–ç•¥, å°æ¹¾è‡ªåŠ¨ç­–ç•¥, æ—¥æœ¬è‡ªåŠ¨ç­–ç•¥, éŸ©å›½è‡ªåŠ¨ç­–ç•¥, æ–°å›½è‡ªåŠ¨ç­–ç•¥, ç¾å›½è‡ªåŠ¨ç­–ç•¥, è‹±å›½è‡ªåŠ¨ç­–ç•¥, æ³•å›½è‡ªåŠ¨ç­–ç•¥, å¾·å›½è‡ªåŠ¨ç­–ç•¥ ] }
  - { name: 1Password, type: select, proxies: [ DIRECT, é¦™æ¸¯è‡ªåŠ¨ç­–ç•¥, å°æ¹¾è‡ªåŠ¨ç­–ç•¥, æ—¥æœ¬è‡ªåŠ¨ç­–ç•¥, éŸ©å›½è‡ªåŠ¨ç­–ç•¥, æ–°å›½è‡ªåŠ¨ç­–ç•¥, ç¾å›½è‡ªåŠ¨ç­–ç•¥, è‹±å›½è‡ªåŠ¨ç­–ç•¥, æ³•å›½è‡ªåŠ¨ç­–ç•¥, å¾·å›½è‡ªåŠ¨ç­–ç•¥ ] }
  - { name: Netflix, type: select, proxies: [ é¦™æ¸¯è‡ªåŠ¨ç­–ç•¥, å°æ¹¾è‡ªåŠ¨ç­–ç•¥, æ—¥æœ¬è‡ªåŠ¨ç­–ç•¥, éŸ©å›½è‡ªåŠ¨ç­–ç•¥, æ–°å›½è‡ªåŠ¨ç­–ç•¥, ç¾å›½è‡ªåŠ¨ç­–ç•¥, è‹±å›½è‡ªåŠ¨ç­–ç•¥, æ³•å›½è‡ªåŠ¨ç­–ç•¥, å¾·å›½è‡ªåŠ¨ç­–ç•¥ ] }
  - { name: GitHub, type: select, proxies: [ ç¾å›½è‡ªåŠ¨ç­–ç•¥, é¦™æ¸¯è‡ªåŠ¨ç­–ç•¥, å°æ¹¾è‡ªåŠ¨ç­–ç•¥, æ—¥æœ¬è‡ªåŠ¨ç­–ç•¥, éŸ©å›½è‡ªåŠ¨ç­–ç•¥, æ–°å›½è‡ªåŠ¨ç­–ç•¥, è‹±å›½è‡ªåŠ¨ç­–ç•¥, æ³•å›½è‡ªåŠ¨ç­–ç•¥, å¾·å›½è‡ªåŠ¨ç­–ç•¥ ] }
  - { name: Emby, type: select, proxies: [ DIRECT, é¦™æ¸¯è‡ªåŠ¨ç­–ç•¥, å°æ¹¾è‡ªåŠ¨ç­–ç•¥, æ—¥æœ¬è‡ªåŠ¨ç­–ç•¥, éŸ©å›½è‡ªåŠ¨ç­–ç•¥, æ–°å›½è‡ªåŠ¨ç­–ç•¥, ç¾å›½è‡ªåŠ¨ç­–ç•¥, è‹±å›½è‡ªåŠ¨ç­–ç•¥, æ³•å›½è‡ªåŠ¨ç­–ç•¥, å¾·å›½è‡ªåŠ¨ç­–ç•¥ ] }
  - { name: å…œåº•åå¤‡ç­–ç•¥, type: fallback, proxies: [ é¦™æ¸¯è‡ªåŠ¨ç­–ç•¥, å°æ¹¾è‡ªåŠ¨ç­–ç•¥, æ—¥æœ¬è‡ªåŠ¨ç­–ç•¥, éŸ©å›½è‡ªåŠ¨ç­–ç•¥, æ–°å›½è‡ªåŠ¨ç­–ç•¥, ç¾å›½è‡ªåŠ¨ç­–ç•¥, è‹±å›½è‡ªåŠ¨ç­–ç•¥, æ³•å›½è‡ªåŠ¨ç­–ç•¥, å¾·å›½è‡ªåŠ¨ç­–ç•¥ ] }

  - { name: é¦™æ¸¯è‡ªåŠ¨ç­–ç•¥, type: select, proxies: [ â±é¦™æ¸¯æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥é¦™æ¸¯æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ ] }
  - { name: å°æ¹¾è‡ªåŠ¨ç­–ç•¥, type: select, proxies: [ â±å°æ¹¾æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥å°æ¹¾æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›å°æ¹¾è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ ] }
  - { name: æ—¥æœ¬è‡ªåŠ¨ç­–ç•¥, type: select, proxies: [ â±æ—¥æœ¬æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥æ—¥æœ¬æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›æ—¥æœ¬è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ ] }
  - { name: éŸ©å›½è‡ªåŠ¨ç­–ç•¥, type: select, proxies: [ â±éŸ©å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥éŸ©å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›éŸ©å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ ] }
  - { name: æ–°å›½è‡ªåŠ¨ç­–ç•¥, type: select, proxies: [ â±æ–°å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥æ–°å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›æ–°å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ ] }
  - { name: ç¾å›½è‡ªåŠ¨ç­–ç•¥, type: select, proxies: [ â±ç¾å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥ç¾å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›ç¾å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ ] }
  - { name: è‹±å›½è‡ªåŠ¨ç­–ç•¥, type: select, proxies: [ â±è‹±å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥è‹±å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›è‹±å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ ] }
  - { name: æ³•å›½è‡ªåŠ¨ç­–ç•¥, type: select, proxies: [ â±æ³•å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥æ³•å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›æ³•å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ ] }
  - { name: å¾·å›½è‡ªåŠ¨ç­–ç•¥, type: select, proxies: [ â±å¾·å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, ğŸš¥å¾·å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, ğŸ›å¾·å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„ ] }

  # æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„
  - { name: â±é¦™æ¸¯æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterHK }
  - { name: â±å°æ¹¾æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterTW }
  - { name: â±æ—¥æœ¬æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterJP }
  - { name: â±éŸ©å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterKR }
  - { name: â±æ–°å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterSG }
  - { name: â±ç¾å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterUS }
  - { name: â±è‹±å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterUK }
  - { name: â±æ³•å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterFR }
  - { name: â±å¾·å›½æ—¶å»¶ä¼˜é€‰ç­–ç•¥ç»„, <<: *UrlTest, filter: *FilterDE }

  # æ•…éšœè½¬ç§»ç­–ç•¥ç»„
  - { name: ğŸš¥é¦™æ¸¯æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterHK }
  - { name: ğŸš¥å°æ¹¾æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterTW }
  - { name: ğŸš¥æ—¥æœ¬æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterJP }
  - { name: ğŸš¥éŸ©å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterKR }
  - { name: ğŸš¥æ–°å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterSG }
  - { name: ğŸš¥ç¾å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterUS }
  - { name: ğŸš¥è‹±å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterUK }
  - { name: ğŸš¥æ³•å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterFR }
  - { name: ğŸš¥å¾·å›½æ•…éšœè½¬ç§»ç­–ç•¥ç»„, <<: *FallBack, filter: *FilterDE }

  # è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„
  - { name: ğŸ›é¦™æ¸¯è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterHK }
  - { name: ğŸ›å°æ¹¾è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterTW }
  - { name: ğŸ›æ—¥æœ¬è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterJP }
  - { name: ğŸ›éŸ©å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterKR }
  - { name: ğŸ›æ–°å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterSG }
  - { name: ğŸ›ç¾å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterUS }
  - { name: ğŸ›è‹±å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterUK }
  - { name: ğŸ›æ³•å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterFR }
  - { name: ğŸ›å¾·å›½è´Ÿè½½å‡è¡¡ç­–ç•¥ç»„, <<: *LoadBalance, filter: *FilterDE }

# è®¢é˜…è§„åˆ™
rule-providers:
  LAN:
    <<: *RuleProvidersClassical
    path: './rules/Lan.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/LAN_SPLITTER.yaml'

  STUN:
    <<: *RuleProviderIpcidr
    path: './rules/STUN_Domain.mrs'
    url: 'https://cdn.jsdmirror.com/gh/Kwisma/rules@main/rules/mihomo/STUN/STUN_Domain.mrs'

  Direct:
    <<: *RuleProvidersClassical
    path: './rules/Direct.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/Direct.yaml'

  Proxy:
    <<: *RuleProvidersClassical
    path: './rules/Proxy.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/Proxy.yaml'

  ChinaDownloadCDN:
    <<: *RuleProvidersClassical
    path: './rules/ChinaDownloadCDN.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/ChinaDownloadCDN.yaml'

  InternationalDownloadCDN:
    <<: *RuleProvidersClassical
    path: './rules/InternationalDownloadCDN.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/InternationalDownloadCDN.yaml'

  AI:
    <<: *RuleProvidersClassical
    path: './rules/AI.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/AI.yaml'

  TikTok:
    <<: *RuleProvidersClassical
    path: './rules/TikTok.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/TikTok.yaml'

  SpeedtestIntl:
    <<: *RuleProvidersClassical
    path: './rules/SpeedtestInternational.yaml'
    url: 'https://rule.kelee.one/Tool/Clash/Rule/SpeedtestInternational.yaml'

  Game:
    <<: *RuleProvidersClassical
    path: './rules/Game.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/Game.yaml'

  1Password:
    <<: *RuleProvidersClassical
    path: './rules/1PasswordUS.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/1PasswordUS.yaml'

  Steam:
    <<: *RuleProvidersClassical
    path: './rules/Steam.yaml'
    url: 'https://rule.kelee.one/Clash/Steam.yaml'

  Netflix:
    <<: *RuleProvidersClassical
    path: './rules/Netflix.yaml'
    url: 'https://rule.kelee.one/Clash/Netflix.yaml'

  Emby:
    <<: *RuleProvidersClassical
    path: './rules/Emby.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/EmbyServer.yaml'

  iCloudChina:
    <<: *RuleProvidersClassical
    path: './rules/iCloudChina.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/iCloudChina.yaml'

  ApplePushNotificationService:
    <<: *RuleProvidersClassical
    path: './rules/ApplePushNotificationService.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/ApplePushNotificationService.yaml'

  AppleSoftwareUpdates:
    <<: *RuleProvidersClassical
    path: './rules/AppleSoftwareUpdates.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/AppleSoftwareUpdates.yaml'

  AppleID:
    <<: *RuleProvidersClassical
    path: './rules/AppleID.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/AppleID.yaml'

  AppleIDDOMAIN:
    <<: *RuleProvidersDomain
    url: "https://cdn.jsdmirror.com/gh/peiyingyao/Rule-for-OCD@master/rule/Clash/AppleID/AppleID_OCD_Domain.mrs"
    path: './rules/AppleID_Domain.mrs'

  AppStore:
    <<: *RuleProvidersClassical
    path: './rules/AppStore.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/AppStore.yaml'

  TestFlight:
    <<: *RuleProvidersClassical
    path: './rules/TestFlight.yaml'
    url: 'https://rule.kelee.one/Clash/TestFlight.yaml'

  GitHub:
    <<: *RuleProvidersDomain
    url: "https://cdn.jsdmirror.com/gh/peiyingyao/Rule-for-OCD@master/rule/Clash/GitHub/GitHub_OCD_Domain.mrs"
    path: './rules/GitHub_Domain.mrs'

  Microsoft:
    <<: *RuleProvidersClassical
    path: './rules/Microsoft.yaml'
    url: 'https://rule.kelee.one/Clash/Microsoft.yaml'

  Google:
    <<: *RuleProvidersClassical
    path: './rules/Google.yaml'
    url: 'https://rule.kelee.one/Clash/Google.yaml'

  Telegram:
    <<: *RuleProvidersClassical
    path: './rules/Telegram.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/Telegram.yaml'

  ESET_China:
    <<: *RuleProvidersClassical
    path: './rules/ESET_China.yaml'
    url: 'https://kelee.one/Tool/Clash/Rule/ESET_China.yaml'

  Claude:
    <<: *RuleProvidersDomain
    url: "https://cdn.jsdmirror.com/gh/peiyingyao/Rule-for-OCD@master/rule/Clash/Claude/Claude_OCD_Domain.mrs"
    path: './rules/Claude_Domain.mrs'

  Cloudflare:
    <<: *RuleProvidersDomain
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/cloudflare.mrs"
    path: './rules/Cloudflare_Domain.mrs'

  Cloudflarecidr:
    <<: *RuleProviderIpcidr
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cloudflare.mrs"
    path: './rules/Cloudflare_IP.mrs'

  TelegramDomain:
    <<: *RuleProvidersDomain
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/telegram.mrs"
    path: "./rules/Telegram_Domain.mrs"

  Telegramcidr:
    <<: *RuleProviderIpcidr
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/telegram.mrs"
    path: './rules/Telegram_IP.mrs'

  Facebook:
    <<: *RuleProvidersDomain
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/facebook.mrs"
    path: "./rules/Facebook_Domain.mrs"

  Facebookcidr:
    <<: *RuleProviderIpcidr
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/facebook.mrs"
    path: './rules/Facebook_IP.mrs'

  Twitter:
    <<: *RuleProvidersDomain
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/twitter.mrs"
    path: "./rules/Twitter_Domain.mrs"

  Twittercidr:
    <<: *RuleProviderIpcidr
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/twitter.mrs"
    path: "./rules/Twitter_IP.mrs"

  NetflixDomain:
    <<: *RuleProvidersDomain
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/netflix.mrs"
    path: "./rules/Netflix_Domain.mrs"

  Netflixcidr:
    <<: *RuleProviderIpcidr
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/netflix.mrs"
    path: "./rules/Netflix_IP.mrs"

  GoogleDomain:
    <<: *RuleProvidersDomain
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/google.mrs"
    path: "./rules/Google_Domain.mrs"

  Googlecidr:
    <<: *RuleProviderIpcidr
    url: "https://cdn.jsdmirror.com/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/google.mrs"
    path: "./rules/Google_IP.mrs"

  # è½¯ä»¶æ›´æ–°ã€æ“ä½œç³»ç»Ÿç­‰å¤§æ–‡ä»¶ä¸‹è½½
  download_domainset:
    type: http
    interval: 86400
    behavior: domain
    format: text
    proxy: DIRECT
    url: "https://ruleset.skk.moe/Clash/domainset/download.txt"
    path: "./rules/sukkaw_download_domainset.txt"
  download_non_ip:
    type: http
    interval: 86400
    behavior: domain
    format: text
    proxy: DIRECT
    url: "https://ruleset.skk.moe/Clash/non_ip/download.txt"
    path: "./rules/sukkaw_download_non_ip.txt"


# è§„åˆ™æŒ‡å‘
rules:
  - SUB-RULE, (OR,((NETWORK,UDP),(NETWORK,TCP))), SUB-REJECT
  - SUB-RULE, (OR,((NETWORK,UDP),(NETWORK,TCP))), SUB-DIRECT
  - RULE-SET, LAN, DIRECT
  - RULE-SET, Direct, DIRECT
  - RULE-SET, Proxy, å…œåº•åå¤‡ç­–ç•¥
  - RULE-SET, ChinaDownloadCDN, DIRECT
  - RULE-SET, InternationalDownloadCDN, å¢ƒå¤–ä¸‹è½½
  - RULE-SET, AI, AI
  - RULE-SET, TikTok, TikTok
  - RULE-SET, SpeedtestIntl, SpeedtestIntl
  - RULE-SET, Steam, å…œåº•åå¤‡ç­–ç•¥
  - RULE-SET, Game, æ¸¸æˆé€‰æ‹©
  - RULE-SET, Netflix, Netflix
  - RULE-SET, Emby, Emby
  - RULE-SET, TestFlight, TestFlight
  - RULE-SET, iCloudChina, DIRECT
  - RULE-SET, ApplePushNotificationService, DIRECT
  - RULE-SET, AppleSoftwareUpdates, DIRECT
  - RULE-SET, AppleID, Appleè´¦æˆ·
  - RULE-SET, AppleIDDOMAIN, Appleè´¦æˆ·
  - RULE-SET, AppStore, App Store
  - RULE-SET, 1Password, 1Password
  - RULE-SET, GitHub, GitHub
  - RULE-SET, Claude, å…œåº•åå¤‡ç­–ç•¥
  - RULE-SET, Microsoft, å…œåº•åå¤‡ç­–ç•¥
  - RULE-SET, Google, å…œåº•åå¤‡ç­–ç•¥
  - RULE-SET, Telegram, å…œåº•åå¤‡ç­–ç•¥
  - RULE-SET,Cloudflarecidr,å…œåº•åå¤‡ç­–ç•¥,no-resolve
  - RULE-SET, ESET_China, DIRECT
  - GEOIP, CN, DIRECT
  - MATCH, å…œåº•åå¤‡ç­–ç•¥

sub-rules:
  SUB-REJECT:
    - RULE-SET, STUN, REJECT
    - DST-PORT, 3478, REJECT
    - DOMAIN-KEYWORD, stun, REJECT
    - AND,(NETWORK,TCP),(DST-PORT,5349), REJECT
    - AND,(NETWORK,UDP),(DST-PORT,5350), REJECT
    - AND,(NETWORK,UDP),(DST-PORT,5351), REJECT
    - AND,(NETWORK,UDP),(DST-PORT,19302), REJECT
  SUB-DIRECT:
    - DOMAIN, cdn.jsdmirror.com, DIRECT
